name: Publish action
on:
    push:
        branches: main

jobs:
    publish:
      runs-on: ubuntu-latest
      steps:
        - name: build
        uses: flexbase-eng/.github/.github/workflows/typescript.build.yml@main
        with:
            use_packr: false
            #package_folder: dist
        # - name: Retrieve build artifacts
        #   uses: actions/download-artifact@v3
        #   with:
        #       name: dist
        - name: Commit and push dist to main
          uses: stefanzweifel/git-auto-commit-action@v4
          with:
              commit_message: 'Update dist version'
              file_pattern: 'dist/index.js'
